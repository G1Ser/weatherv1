"use strict";(self.webpackChunkweatherv1=self.webpackChunkweatherv1||[]).push([[105],{105(t,s,e){e.r(s),e.d(s,{default:()=>l});var i=function(){var t=this,s=t._self._c;return s("div",{staticClass:"city-container"},[s("header",{staticClass:"city-header"},[t.isLoading?[s("SkeletonItem",{staticStyle:{height:"45px",width:"100px"}}),t._v(" "),s("SkeletonItem",{staticStyle:{height:"25px",width:"185px"}})]:[s("span",{staticClass:"city-name"},[t._v(t._s(t.lives.city))]),t._v(" "),s("span",{staticClass:"weather-summary"},[t._v("\n        "+t._s(t.lives.temperature)+"℃ "+t._s(t.lives.weather)+" "+t._s(t.lives.winddirection)+t._s(t.lives.windpower)+"级\n        "+t._s(t.lives.humidity)+"%\n      ")])]],2),t._v(" "),s("main",{staticClass:"weather-info"},[s("p",[t._v("近期天气")]),t._v(" "),s("WeatherChart",{attrs:{"is-loading":t.isLoading,casts:t.casts}})],1)])};i._withStripped=!0;var a=e(3008),c=e(3494),h=e(9661),n=e(7332);const r={name:"City",components:{WeatherChart:a.A,SkeletonItem:c.A},data:()=>({lives:{},casts:[],isLoading:!0}),computed:{adcode(){return this.$route.params.adcode}},created(){this.fetchCityData()},methods:{async fetchCityData(){this.isLoading=!0;try{const[t,s]=await Promise.all([(0,n.Zq)(this.adcode,"base"),(0,n.Zq)(this.adcode,"all")]);this.lives=t.lives[0],this.$store.commit("City/SET_ADCODE",this.lives.adcode),this.$store.commit("City/SET_CITYNAME",this.lives.city),this.casts=(0,h.MY)(s.forecasts[0].casts)}finally{this.isLoading=!1}}}};const l=(0,e(614).A)(r,i,[],!1,null,"4f7a0c00",null).exports}}]);